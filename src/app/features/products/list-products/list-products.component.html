 <mat-toolbar id="sub-toolbar"
    class="bg-white my-4 rounded shadow-lg h-full flex justify-center items-center responsive-toolbar">
    <div class="w-full flex row justify-evenly items-center mt-4 md:mt-0">
        <div class="flex row items-center" style="margin-top: 15px;">
            <!-- Dropdown for sorting options -->
            <mat-form-field appearance="outline"
                class="max-w-44 p-2 mb-2 md:mb-0">
                <mat-select
                    (selectionChange)="loadProducts(); resetPaginator();"
                    [(value)]="productOptions.sort_by">
                    <mat-option value="price">Sort by Price</mat-option>
                    <mat-option value="stock">Sort by Stock</mat-option>
                    <mat-option value="date_published">Sort by
                        Date</mat-option>
                </mat-select>
            </mat-form-field>
            <!-- Dropdown for sorting order -->
            <mat-form-field appearance="outline"
                class="max-w-36 p-2 mb-2 md:mb-0">
                <mat-select
                    (selectionChange)="loadProducts(); resetPaginator();"
                    [(value)]="productOptions.sort_order">
                    <mat-option value="asc">Ascending</mat-option>
                    <mat-option value="desc">Descending</mat-option>
                </mat-select>
            </mat-form-field>
            <!-- Field for filtering by category -->
            <mat-form-field appearance="outline"
                class="max-w-44 p-2 mb-2 md:mb-0">
                <mat-select
                    (selectionChange)="loadProducts(); resetPaginator();"
                    [(value)]="productOptions.idCategory">
                    <mat-option value="all">All Categories</mat-option>
                    <mat-option *ngFor="let category of categories"
                        [value]="category.idCategory">
                        {{ category.libelle }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <!-- Field for minimal price -->
            <mat-form-field appearance="outline"
                class="max-w-36 p-2 mb-2 md:mb-0">
                <input matInput placeholder="Min Price" type="number"
                    [(ngModel)]="productOptions.min_price"
                    (keyup.enter)="loadProducts(); resetPaginator();">
            </mat-form-field>
            <!-- Field for maximal price -->
            <mat-form-field appearance="outline"
                class="max-w-36 p-2 mb-2 md:mb-0">
                <input matInput placeholder="Max Price" type="number"
                    [(ngModel)]="productOptions.max_price"
                    (keyup.enter)="loadProducts(); resetPaginator();">
            </mat-form-field>
        </div>
        <!-- Paginator for pagination -->
        <mat-paginator [length]="total_items" [pageSize]="10"
            [pageSizeOptions]="[5, 10, 25, 100]"
            (page)="onPageChange($event)" [disabled]="isLoadingProducts"
            class="flex row flex-nowrap mt-4 md:mt-0">
        </mat-paginator>
    </div>

</mat-toolbar>
<!-- Grid for displaying products -->
<div
    class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
    <div *ngFor="let product of productImages"
        class="bg-white rounded-lg shadow-lg overflow-hidden">
        <mat-card class="hover" (click)="redirectToProduct(product.product.idProduct)">
            <mat-card-title class="p-4 h-2/3">
                <!-- Product image -->
                <img mat-card-image [src]="product.images[0].file"
                    alt="{{ product.images[0].alt }}"
                    class="rounded-lg h-40 w-full object-cover h-3/4 pb-4">
                <!-- Product name -->
                <div class="h-1/4">
                    <h1 class="text-xl font-bold">{{
                        product.product.name.charAt(0).toUpperCase()+
                        product.product.name.slice(1) }}</h1>
                    <!-- Product category -->
                    <p
                        class="text-gray-500">{{product.product.Category.libelle}}</p>
                </div>
            </mat-card-title>
            <mat-card-content class="p-4 h-1/3">
                <!-- Product price -->
                <p class="text-lg font-bold">{{ product.product.price }}$</p>
                <!-- Product description -->
                <p class="text-gray-700 truncate">{{ product.product.description
                    }}</p>
                <div class="flex justify-between items-center mt-4">
                    <!-- Product stock -->
                    <p class="text-gray-500">Stock: {{ product.product.stock
                        }}</p>
                    <!-- Product date published -->
                    <p class="text-gray-500">{{
                        product.product.date_published |
                        date: 'dd/MM/yyyy' }}</p>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>